
from web3 import Web3
from tests.utils import run_test, load_contract

contract_morpho_blue = load_contract(
    "bbbbbbbbbb9cc5e90e3b3af64bdaf62c37eeffcb"
)

# Test from https://etherscan.io/tx/0x66dfebd34a5e1f351a8d275f45c16b4be306ec3090fadf70da6600644a825998
def test_set_authorization_with_sig(backend, firmware, navigator, test_name, wallet_addr):
    data = "0x8069218f0000000000000000000000004ebd65bb249ed3697c19b94e06c22fed0f9b658900000000000000000000000037825c5af353a5effacdf1e63c0e5f913df00845000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000067ad0566000000000000000000000000000000000000000000000000000000000000001c17ad5fbbc1c85522d4ca08e8d650c881276a065e886f1e336dea32fe30c751275b804c32f0360bca72a6cc07f319c512625ef204764fcebf4ad89bfc95fac01c"
    run_test(
        contract_morpho_blue, 
        data, 
        backend, 
        firmware, 
        navigator, 
        test_name, 
        wallet_addr
    )


